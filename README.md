# GLB Model Optimizer (GLB æ¨¡å‹å„ªåŒ–å¤§å¸«)

**æ‰“é€ æ¥µè‡´æ•ˆèƒ½çš„ Web 3D é«”é©—ï¼šå°ˆæ¥­ç´š GLB æ¨¡å‹å„ªåŒ–å·¥å…·**

æ˜¯ä¸€å€‹å°ˆç‚º Web 3D é–‹ç™¼è€…è¨­è¨ˆçš„è¦–è¦ºåŒ– GLB æ¨¡å‹å„ªåŒ–å¹³å°ã€‚å®ƒæ•´åˆäº†å¼·å¤§çš„ `gltf-transform` æŠ€è¡“èˆ‡ `Three.js` é è¦½å¼•æ“ï¼Œè®“ä½¿ç”¨è€…èƒ½å¤ è¼•é¬†ä¸Šå‚³ã€æª¢è¦–ã€è¨ºæ–·ä¸¦å„ªåŒ– GLB æ¨¡å‹ï¼Œæœ€çµ‚è¼¸å‡ºæœ€é©åˆç¶²é å‘ˆç¾çš„é«˜æ•ˆèƒ½ 3D è³‡ç”¢ã€‚

---

## ğŸŒŸ æ ¸å¿ƒç†å¿µ (Core Philosophy)

æœ¬è»Ÿé«”çš„ç›®æ¨™æ˜¯è§£æ±º Web 3D é–‹ç™¼ä¸­æœ€å¸¸è¦‹çš„ç—›é»ï¼š**æ¨¡å‹æª”æ¡ˆéå¤§**ã€**è¼‰å…¥é€Ÿåº¦æ…¢**ã€**VRAM ä½”ç”¨éé«˜**ã€‚

æˆ‘å€‘æä¾›ä¸€å€‹ç›´è§€çš„ web ä»‹é¢ï¼Œå°‡è¤‡é›œçš„ 3D å„ªåŒ–æµç¨‹è‡ªå‹•åŒ–èˆ‡è¦–è¦ºåŒ–ï¼Œè®“é 3D å°ˆæ¥­çš„ç¾è¡“æˆ–å‰ç«¯å·¥ç¨‹å¸«ä¹Ÿèƒ½è¼•é¬†ç”¢å‡ºæ¨™æº–åŒ–ã€é«˜æ•ˆèƒ½çš„ GLB æª”æ¡ˆã€‚

## ğŸš€ ä¸»è¦åŠŸèƒ½ (Key Features)

### 1. äº’å‹•å¼æ¨¡å‹æª¢è¦– (Interactive Preview)

- **åŸºæ–¼ Three.js çš„å³æ™‚é è¦½**ï¼šä¸Šå‚³å¾Œç«‹å³é¡¯ç¤ºæ¨¡å‹ï¼Œæ”¯æ´æ—‹è½‰ã€ç¸®æ”¾ã€å¹³ç§»ã€‚
- **è¦–è¦ºåŒ–è¨ºæ–·**ï¼šæŸ¥çœ‹ç·šæ¡† (Wireframe)ã€æ³•ç·š (Normals)ã€æè³ª (Materials) ç­‰è³‡è¨Šã€‚
- **åŸå§‹æ•¸æ“šåˆ†æ**ï¼šå³æ™‚é¡¯ç¤ºé ‚é»æ•¸ (Vertices)ã€é¢æ•¸ (Draw calls)ã€ç´‹ç†å¤§å° (Texture sizes) èˆ‡æª”æ¡ˆç¸½å¤§å°ã€‚

### 2. æ·±åº¦å„ªåŒ–å¼•æ“ (Optimization Engine)

æ ¸å¿ƒæ¡ç”¨ [glTF-Transform](https://github.com/donmccurdy/glTF-Transform) æŠ€è¡“ï¼Œæä¾›å¤šå±¤æ¬¡çš„å„ªåŒ–æ–¹æ¡ˆï¼š

#### ğŸ“ å¹¾ä½•å„ªåŒ– (Geometry)

- **Draco å£“ç¸®**ï¼šä½¿ç”¨ Google Draco ç®—æ³•å¤§å¹…å£“ç¸®å¹¾ä½•æ•¸æ“šï¼Œæ¸›å°‘æª”æ¡ˆé«”ç©ã€‚
- **Meshopt å£“ç¸®**ï¼šæ”¯æ´ EXT_meshopt_compressionï¼Œæä¾›æ›´é«˜æ•ˆçš„è§£ç¢¼é€Ÿåº¦ã€‚
- **ç¶²æ ¼ç°¡åŒ– (Simplification)**ï¼šæ™ºæ…§æ¸›å°‘é¢æ•¸ï¼ŒåŒæ™‚ä¿æŒå¤–è§€ç´°ç¯€ã€‚
- **ç„Šæ¥ (Welding)**ï¼šè‡ªå‹•åˆä½µé‡è¤‡çš„é ‚é»ï¼Œä¿®å¾©æ¨¡å‹è£‚ç¸«ã€‚

#### ğŸ¨ ç´‹ç†èˆ‡æè³ªå„ªåŒ– (Texture & Materials)

- **ç´‹ç†è½‰ç¢¼ (Transcoding)**ï¼šè‡ªå‹•å°‡ PNG/JPEG ç´‹ç†è½‰æ›ç‚º **WebP** æˆ– **KTX2** (GPU å£“ç¸®ç´‹ç†)ï¼Œå¤§å¹…é™ä½ VRAM ä½”ç”¨èˆ‡æå‡æ¸²æŸ“æ•ˆèƒ½ã€‚
- **å°ºå¯¸é‡æ¨£ (Resizing)**ï¼šé™åˆ¶ç´‹ç†æœ€å¤§è§£æåº¦ (ä¾‹å¦‚ 2048x2048 -> 1024x1024)ï¼Œé¿å…ä¸å¿…è¦çš„è³‡æºæµªè²»ã€‚
- **é€šé“åˆä½µ**ï¼šè‡ªå‹•å„ªåŒ– ORM è²¼åœ– (Occlusion, Roughness, Metalness) è™•ç†ã€‚

#### ğŸ§¹ çµæ§‹æ¸…ç† (Scene Cleanup)

- **å»é‡ (Deduplication)**ï¼šç§»é™¤é‡è¤‡çš„ Accessorsã€Meshes å’Œ Texturesã€‚
- **å¯¦ä¾‹åŒ– (Instancing)**ï¼šè‡ªå‹•æª¢æ¸¬ç›¸åŒæ¨¡å‹ä¸¦è½‰æ›ç‚º GPU Instancingï¼Œæ¸›å°‘ Draw callsã€‚
- **ç¯€é»ä¿®å‰ª (Pruning)**ï¼šç§»é™¤å ´æ™¯ä¸­æœªä½¿ç”¨çš„ç¯€é»ã€æè³ªæˆ–å‹•ç•«æ•¸æ“šã€‚

### 3. å„ªåŒ–å‰å¾Œå°æ¯” (Before/After Comparison)

- **é›™è¦–çª—å°æ¯”**ï¼šä¸¦æ’é¡¯ç¤ºå„ªåŒ–å‰èˆ‡å„ªåŒ–å¾Œçš„æ¨¡å‹æ•ˆæœã€‚
- **é—œéµæŒ‡æ¨™å ±å‘Š**ï¼š
  - æª”æ¡ˆå¤§å°ç¸®æ¸›ç‡ (ä¾‹å¦‚ï¼š`10MB -> 2MB (-80%)`)
  - VRAM é ä¼°ä½”ç”¨è®ŠåŒ–
  - Draw Calls è®ŠåŒ–

### 4. è¼¸å‡ºèˆ‡ç™¼å¸ƒ (Export & Publish)

- **ä¸€éµä¸‹è¼‰**ï¼šè¼¸å‡ºæ¨™æº– GLB æª”æ¡ˆã€‚
- **Web Ready**ï¼šè¼¸å‡ºçš„æª”æ¡ˆå®Œå…¨ç¬¦åˆ Web æ¨™æº–ï¼Œå¯ç›´æ¥ç”¨æ–¼ Three.js, Babylon.js, PlayCanvas æˆ– React-three-fiberã€‚

---

## ğŸ›  æŠ€è¡“æ¶æ§‹ (Tech Stack)

æœ¬å°ˆæ¡ˆæ¡ç”¨ç¾ä»£åŒ–çš„ Web æŠ€è¡“æ£§æ§‹å»ºï¼š

- **Frontend Framework**: [SvelteKit](https://kit.svelte.dev/) (é«˜æ•ˆèƒ½ã€è¼•é‡ç´šçš„å‰ç«¯æ¡†æ¶)
- **3D Engine**: [Three.js](https://threejs.org/) (ç”¨æ–¼æ¨¡å‹æ¸²æŸ“èˆ‡é è¦½)
- **Optimization Core**: [glTF-Transform](https://gltf-transform.dev/) (åº•å±¤å„ªåŒ–é‚è¼¯)
- **UI Library**: TailwindCSS (å¿«é€Ÿæ§‹å»ºç¾è§€çš„ç¾ä»£åŒ–ä»‹é¢)
- **Package Manager**: pnpm (åš´æ ¼çš„ä¾è³´ç®¡ç†)

## ğŸ“¦ ä½¿ç”¨æµç¨‹ (User Workflow)

1. **Upload**: æ‹–æ›³ `.glb` æˆ– `.gltf` æª”æ¡ˆè‡³ä¸Šå‚³å€ã€‚
2. **Inspect**: ç³»çµ±è‡ªå‹•åˆ†ææ¨¡å‹çµæ§‹ï¼Œé¡¯ç¤ºæ•ˆèƒ½ç“¶é ¸ï¼ˆå¦‚ï¼šè²¼åœ–éå¤§ã€é¢æ•¸éå¤šï¼‰ã€‚
3. **Configure**: é¸æ“‡å„ªåŒ–ç­–ç•¥ï¼ˆé è¨­æä¾› "Web Balanced", "Max Compression", "High Quality" ä¸‰ç¨®é è¨­è¨­å®šï¼Œäº¦å¯é€²éšè‡ªå®šç¾©ï¼‰ã€‚
4. **Processing**: ç³»çµ±åŸ·è¡Œå„ªåŒ–ä»»å‹™ (Web Worker / Server-side)ã€‚
5. **Review**: æª¢è¦–å„ªåŒ–å¾Œçš„æ¨¡å‹æ•ˆæœèˆ‡æ•¸æ“šå ±å‘Šã€‚
6. **Download**: ä¸‹è¼‰å„ªåŒ–å¾Œçš„ GLB æª”æ¡ˆã€‚

---

## ğŸ”® æœªä¾†å±•æœ› (Roadmap)

- [ ] æ”¯æ´æ‰¹æ¬¡è™•ç† (Batch Processing)
- [ ] æ•´åˆ AI è‡ªå‹•æ¸›é¢ç®—æ³•
- [ ] æ”¯æ´æè³ªçƒ˜ç„™ (Texture Baking)
- [ ] é›²ç«¯å„²å­˜èˆ‡åˆ†äº«é€£çµç”Ÿæˆ

---

_Created by Gemini based on User Requirements._
